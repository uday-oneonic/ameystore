<div class="review-section ">
  <div class="review-section-title">
    <h2>
      {{ section.settings.review_title }}
    </h2>
  </div>

  <!-- Swiper Container -->
  <div class="swiper-container swiper-container-review">
    <div class="swiper-wrapper">
      {% for block in section.blocks %}
        <div class="swiper-slide blur">
          <div class="review-card">
            {% if block.settings.review_image %}
              <div class="image">
                <img src="{{ block.settings.review_image | image_url }}" alt="Review Image">
              </div>
            {% endif %}

            <div class="text">
              <span>{{ block.settings.name }}</span>
            </div>

            <div class="country">
              <span>{{ block.settings.country_name }}</span>
            </div>

            <div class="stars">
              <span>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
              </span>
            </div>

            <div class="paragraph">
              <span>{{ block.settings.review_paragraph }}</span>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>

    <!-- Pagination Dots -->
    <div class="swiper-pagination-review"></div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    new Swiper('.swiper-container-review', {
      slidesPerView: 'auto',
      // spaceBetween: 20,
      // loop: true,
      loopAdditionalSlides: 4,
      slideToClickedSlide: true,
      centeredSlides: true,
      initialSlide: 1,
      pagination: {
        el: ".swiper-pagination-review",
        clickable: true,
      },
      breakpoints: {
        480: { slidesPerView: 1 },
        768: { slidesPerView: 2 },
        1024: { slidesPerView: 'auto' },
        1400: { slidesPerView: 'auto' }
      },
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
    });
  });
</script>

{% style %}
        .review-section {
          background: #F6F6F6;
          width: 100%;
          /* max-width: 1400px; */
          display: flex;
          flex-direction: column;
          align-items: center;
        }

        .review-section-title {
          display: flex;
          text-align: center;
        }

        .review-section-title h2 {
          font-family: 'Inter', sans-serif;
          font-weight: 400;
          font-size: 39px;
          line-height: 100%;
              letter-spacing: -0.03em;
        }

        .swiper-container {
          width: 100%;
          overflow: hidden;
          padding: 40px 0;
        }

        .swiper-slide {
          display: flex;
          justify-content: center;
          transition: transform 0.5s ease-in-out;
        }

        .review-card {
          display: flex;
          flex-direction: column;
          /* over ride */
          /* align-items: center; */
          width: 100%;
          max-width: 500px;
          padding: 20px;
          border: 1px solid #ddd;
          border-radius: 10px;
          transition: all 0.3s ease;
        }

        .swiper-slide:not(.swiper-slide-active) .review-card {
          /* opacity: 0.5; */
          transform: scale(0.85);
        }

        .image {
          display: flex;
          justify-content: center;
          width: 100%;
          height: auto;
        }

        .image img {
          border-radius: 50%;
          width: 80px;
          height: 80px;
          object-fit: cover;
        }

        .text {
          font-family: 'Inter', sans-serif;
          font-weight: 600;
          font-size: 22px;
          text-align: center;
        }

        .country{
          font-family: 'Inter', sans-serif;
          text-align: center;
          margin-top: 5px;
        }

        .stars {
          padding: 10px;
          font-size: 20px;
        }

        .paragraph {
          font-size: 20px;
          line-height: 1.4;
        }

        .swiper-pagination-review {
          position: relative;
          bottom: -10px;
        }
      .swiper-pagination-review{
        margin-top: 40px;
        justify-content: center;
        display: flex;
        }
        @media screen and (max-width: 768px) {
          .review-card {
            max-width: 350px;
          }
        }

        @media screen and (max-width: 480px) {
          .review-section-title h2{
            margin-top: 30px;
            font-weight: 400;
            font-size: 20px;
          }
          .text{
            margin-top:20px;
            order:2;
            font-weight: 500;
            font-size: 12.59px;
          }
          .country{
            margin:0;
            color: #808080;
            order:3;
            font-size: 5.51px;
          }
          .paragraph{
            width:40%;
            order:1;
            font-size: 9.45px;
          }
          .review-card {
            background: #FAFAFA;
            display: flex;
            justify-content: start;
            text-align: start;
            align-items: start;
          }

          .image img {
            border-radius: 10px;
            position: absolute;
            right: 0;
            top: -20px;
            width: 150px;
            height: 200px;
          }
          .stars {
            visibility:hidden;
            display:none;
          }
        }
        .swiper-container-review {
        width: 100%;
        max-width: 1400px; /* Ensures proper layout */
        overflow: hidden;
        padding: 40px 0;
      }

      .swiper-slide {
        width: calc(100% / 3 - 20px); /* Ensures 3 cards per row */
        display: flex;
        justify-content: center;
        transition: transform 0.5s ease-in-out;

      }
  .blur{
       filter: blur(3px);
  }
      .review-card {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
        max-width: 400px; /* Adjust width to fit 3 cards */
        padding: 20px;
        border: 1px solid #ddd;
        border-radius: 10px;
        transition: all 0.3s ease;
      }

      /* Responsive Card Sizing */
      @media screen and (max-width: 1024px) {
        .swiper-slide {
          width: calc(100% / 2 - 20px); /* 2 cards per row */
        }
      }

      @media screen and (max-width: 768px) {
        .swiper-slide {
          width: calc(100% - 10px); /* 1 card per row */
        }
      }
      @media screen and (max-width: 480px) {
       .review-card {

        align-items: start;

      }
        }
      .swiper-slide.swiper-slide-active {
        filter: blur(0);

    }
{% endstyle %}

{% schema %}
{
  "name": "Review",
  "settings": [
    {
      "type": "text",
      "id": "review_title",
      "label": "title",
      "default":"Don't take our word for it"
    }
  ],
  "blocks": [
    {
      "type": "image",
      "name": "Review Card",
      "settings": [
        {
          "type": "image_picker",
          "id": "review_image",
          "label": "Review Image"
        },
        {
          "type": "text",
          "id": "name",
          "label": "Name"
        },
        {
          "type": "text",
          "id": "country_name",
          "label": "Sort Address"
        },
        {
          "type": "text",
          "id": "variant_picker",
          "label": "Star Review"
        },
        {
          "type": "text",
          "id": "review_paragraph",
          "label": "Review"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Review"
    }
  ]
}
{% endschema %}
