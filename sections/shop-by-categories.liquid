<div class="shop-by-categories page-width">
  <h2 class="shop-by-category-title">Shop by categories</h2>
  <div class="categories-wrapper">
    <div class="categories-grid swiper-container">
      <div class="swiper-wrapper">
        {% for product in collections[section.settings.collection].products %}
          <div class="category-item swiper-slide">
            <a href="/collections">
              {% if product.featured_image %}
                <img src="{{ product.featured_image | image_url }}" alt="{{ product.title }}">
              {% else %}
                <div class="no-image">No Image</div>
              {% endif %}
              <div class="category-title">{{ product.title }}</div>
            </a>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Shop by Categories",
  "settings": [
    {
      "type": "collection",
      "id": "collection",
      "label": "Select Collection"
    }
  ],
  "presets": [
    {
      "name": "Shop by Categories",
      "settings": {
        "collection": ""
      }
    }
  ]
}
{% endschema %}

{% style %}
    .shop-by-categories {
      text-align: start;
      padding: 30px;
    }

    .shop-by-categories .categories-wrapper {
      position: relative;
      overflow: hidden;
      white-space: nowrap;
    }

    .shop-by-categories .categories-grid {
      display: flex;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;
    }

    .shop-by-categories .category-item {
      width: calc(25% - 10px);
      text-align: center;
    }

    .shop-by-categories .category-item img {
      width: 100%;
      object-fit: cover;
      border-radius: 10px;
    }

    .shop-by-categories .category-title {
      color:black;
      /* font-family: 'inter_font'; */
      font-weight: 400;
      font-size: 24.65px;
      line-height: 100%;
    }

    h2.shop-by-category-title {
      text-align: start;
      /* font-family: 'inter-font'; */
      font-weight: 400;
      font-size: 39px;
      line-height: 100%;
    }
    .category-item a{
  text-decoration:none;

    }

    @media screen and (max-width: 768px) {
      .shop-by-categories {
        padding: 0;
      }
    }

    /* âœ… Mobile (480px and below) - Enable Swiper.js Carousel */
    @media screen and (max-width: 480px) {
      .categories-wrapper {
        overflow: hidden;
      }

      .categories-grid {
        display: flex;
        flex-wrap: nowrap;
      }

      .category-item {
        flex: 0 0 40%;
      }

      .shop-by-categories {
        padding: 0;
      }

      .shop-by-categories h2 {
        font-size: 20px;
        padding: 5px;
      }

      .shop-by-categories .category-title {
        font-size: 11.85px;
      }
    }
{% endstyle %}

<script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css">

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var swiper = new Swiper(".swiper-container", {
      slidesPerView: 1.5,
      spaceBetween: 10,
      pagination: {
        el: ".swiper-pagination",
        clickable: true,
      },
      breakpoints: {
        480: {
          slidesPerView: 2.5,
        },
        769: {
          slidesPerView: 'auto',
        }
      }
    });
  });
</script>
